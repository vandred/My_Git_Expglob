(function(){(function(){return $(function(){var a,c,b;c=abp.services.app.patient;a={title:app.localize("Patients"),paging:true,sorting:true,multiSorting:false,actions:{listAction:{method:c.getList}},fields:{id:{key:true,list:false},clinicianId:{key:true,list:false},firstName:{title:app.localize("FirstName"),width:""},lastName:{title:app.localize("LastName"),width:""},socialSecurityNumber:{title:"Security Number",width:""},gender:{title:"Gender",width:""},language:{title:"Language",width:""},payor:{title:"Payor",width:""},actions:{title:"",width:"1%",sorting:false,display:function(d){b._Table[d.record.id]=d.record;return $("<div class='person-buttons' style='width:78px'> <button class='btn btn-circle btn-icon-only green _actionButton' title='"+(app.localize("Edit"))+"' data-action='modal' data-modal='edit' data-id='"+d.record.id+"' > <i class='icon-pencil'></i> </button> <button title='"+(app.localize("Delete"))+"' class='btn btn-circle btn-icon-only red _actionButton' data-action='delete' data-id='"+d.record.id+"'> <i class='icon-trash'></i> </button> </div>")}}}};b=new Form({service:c,table:"#PatientsTable",jtable:a,filterForm:"#filterForm",modal:"#patientModal",saveButton:"#SavePatientButton",formField:{id:"#Patient_ID",clinicianId:{element:"#Patient_ClinicianId",set:function(){return $("#Patient_ClinicianId").selectpicker("refresh")}},socialSecurityNumber:"#Patient_SocialSecurityNumber",firstName:"#Patient_FirstName",lastName:"#Patient_LastName",gender:"#Patient_Gender",language:"#Patient_Language",payor:"#Patient_Payor",dateOfBirth:{element:"#Patient_DateOfBirth",set:function(d){return $("#Patient_DateOfBirth").datepicker("update",d)},get:function(){if($("#Patient_Payor").val()){return(new Date($("#Patient_DateOfBirth").val())).toISOString()}}}},formClean:"._formClean"});b.init();return $("body").on("click","._actionButton",function(f){var d,g;d=f.currentTarget.dataset.action;switch(d){case"search":b.getFilters();return b.getList();case"save":return b.getForm();case"modal":if(f.currentTarget.dataset.modal==="create"){b.fillForm();b.$saveButton.find(".btnText").text(app.localize("Create"));return b.$Modal.modal("show")}else{g=f.currentTarget.dataset.id;b.fillForm(g);return b.$Modal.modal("show")}break;case"delete":g=f.currentTarget.dataset.id;return swal({title:"Are you sure?",text:"Your will not be able to recover this imaginary file!",type:"warning",showCancelButton:true,cancelButtonColor:"blue",cancelButtonText:app.localize("Cancel"),confirmButtonClass:"btn-danger",confirmButtonColor:"red",confirmButtonText:app.localize("Delete"),closeOnConfirm:false},function(){return b.deleteItem(g)})}})})})()}).call(this);