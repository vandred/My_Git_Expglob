(function(){(function(){return $(function(){var e,f,d;f=abp.services.app.patient;e={title:app.localize("Patients"),paging:true,sorting:true,multiSorting:false,actions:{listAction:{method:f.getList}},fields:{id:{key:true,list:false},clinicianId:{key:true,list:false},firstName:{title:app.localize("FirstName"),width:""},lastName:{title:app.localize("LastName"),width:""},socialSecurityNumber:{title:"Security Number",width:""},gender:{title:"Gender",width:""},language:{title:"Language",width:""},payor:{title:"Payor",width:""},actions:{title:"",width:"1%",sorting:false,display:function(a){d._Table[a.record.id]=a.record;return $("<div class='person-buttons' style='width:78px'> <button class='btn btn-circle btn-icon-only green _actionButton' title='"+(app.localize("Edit"))+"' data-action='modal' data-modal='edit' data-id='"+a.record.id+"' > <i class='icon-pencil'></i> </button> <button title='"+(app.localize("Delete"))+"' class='btn btn-circle btn-icon-only red _actionButton' data-action='delete' data-id='"+a.record.id+"'> <i class='icon-trash'></i> </button> </div>")}}}};d=new Form({service:f,table:"#PatientsTable",jtable:e,filterForm:"#filterForm",modal:"#patientModal",saveButton:"#SavePatientButton",formField:{id:"#Patient_ID",clinicianId:{element:"#Patient_ClinicianId",set:function(){return $("#Patient_ClinicianId").selectpicker("refresh")}},socialSecurityNumber:"#Patient_SocialSecurityNumber",firstName:"#Patient_FirstName",lastName:"#Patient_LastName",gender:"#Patient_Gender",language:"#Patient_Language",payor:"#Patient_Payor",dateOfBirth:{element:"#Patient_DateOfBirth",set:function(a){return $("#Patient_DateOfBirth").datepicker("update",a)},get:function(){if($("#Patient_Payor").val()){return(new Date($("#Patient_DateOfBirth").val())).toISOString()}}}},formClean:"._formClean"});d.init();return $("body").on("click","._actionButton",function(b){var c,a;c=b.currentTarget.dataset.action;switch(c){case"search":d.getFilters();return d.getList();case"save":return d.getForm();case"modal":if(b.currentTarget.dataset.modal==="create"){d.fillForm();d.$saveButton.find(".btnText").text(app.localize("Create"));return d.$Modal.modal("show")}else{a=b.currentTarget.dataset.id;d.fillForm(a);return d.$Modal.modal("show")}break;case"delete":a=b.currentTarget.dataset.id;return swal({title:"Are you sure?",text:"Your will not be able to recover this imaginary file!",type:"warning",showCancelButton:true,cancelButtonColor:"blue",cancelButtonText:app.localize("Cancel"),confirmButtonClass:"btn-danger",confirmButtonColor:"red",confirmButtonText:app.localize("Delete"),closeOnConfirm:false},function(){return d.deleteItem(a)})}})})})()}).call(this);